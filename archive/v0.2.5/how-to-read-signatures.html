<!doctype html>
<html>
	<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
		<title>シグニチャの読み方 - Mithril</title>
		<meta name="description" value="Mithril.js - a Javascript Framework for Building Brilliant Applications" />
		<link href="lib/prism/prism.css" rel="stylesheet" />
		<link href="style.css" rel="stylesheet" />
	</head>
	<body>
		<header>
			<nav class="container">
				<a href="index.html" class="logo"><span>○</span> Mithril</a> <a href="getting-started.html">ガイド</a> <a href="mithril.html">API</a> <a href="community.html">コミュニティ</a> <a href="http://lhorie.github.io/mithril-blog">もっと知る</a> <a href="installation.html">ダウンロード</a> <a href="http://github.com/lhorie/mithril.js" target="_blank">Github</a>
			</nav>
		</header>
		<main>
			<section class="content">
				<div class="container">
					<div class="row">
						<div class="col(3,3,12)">
							<h2 id="api">API (v0.2.5)</h2>
							<h3 id="core">コア</h3>
							<ul>
								<li><a href="mithril.html" title="仮想エレメントを作るためのユーティリティ">m</a></li>
								<li><a href="mithril.component.html" title="コンポーネントのパラメータ化">m.component</a></li>
								<li><a href="mithril.mount.html" title="コンポーネントのレンダリング">m.mount</a></li>
								<li><a href="mithril.prop.html" title="getter-setterユーティリティ">m.prop</a></li>
								<li><a href="mithril.withAttr.html" title="イベントハンドラを生成するユーティリティ">m.withAttr</a></li>
							</ul>
							<h3 id="routing">ラウティング</h3>
							<ul>
								<li><a href="mithril.route.html" title="ラウティングユーティリティ">m.route</a>
									<ul>
										<li><a href="mithril.route.html#defining-routes" title="存在するラウトの定義">m.route(rootElement, defaultRoute, routes)</a></li>
										<li><a href="mithril.route.html#redirecting" title="ラウトへリダイレクト">m.route(path, params, replaceHistory)</a></li>
										<li><a href="mithril.route.html#reading-current-route" title="現在のラウトを取得">m.route()</a></li>
										<li><a href="mithril.route.html#mode-abstraction" title="ラウティングモードの抽象化">m.route(element)</a></li>
										<li><a href="mithril.route.html#mode" title="ラウティングがハッシュ、クエリー文字列、パス名のどのモードを使用するか">m.route.mode</a></li>
										<li><a href="mithril.route.html#param" title="パラメータ化されたラウトから引数の読み込み">m.route.param</a></li>
										<li><a href="mithril.route.html#buildQueryString" title="データをクエリー文字列フォーマットでシリアライズ">m.route.buildQueryString</a></li>
										<li><a href="mithril.route.html#parseQueryString" title="パラメータ化されたラウトから引数の読み込み">m.route.parseQueryString</a></li>
									</ul>
								</li>
							</ul>
							<h3 id="data">データ</h3>
							<ul>
								<li><a href="mithril.request.html" title="高レベルなAJAXユーティリティ">m.request</a></li>
								<li><a href="mithril.deferred.html" title="Promiseのファクトリ">m.deferred</a></li>
								<li><a href="mithril.sync.html" title="Promiseを集約">m.sync</a></li>
							</ul>
							<h3 id="html">HTML</h3>
							<ul>
								<li><a href="mithril.trust.html" title="エスケープしないHTMLのためのメソッド">m.trust</a></li>
							</ul>
							<h3 id="rendering">レンダリング</h3>
							<ul>
								<li><a href="mithril.render.html" title="低レベルのレンダリングの方法">m.render</a></li>
								<li><a href="mithril.redraw.html" title="高レベルな明示的なレンダリングメソッド">m.redraw</a>
									<ul>
										<li><a href="mithril.redraw.html#strategy" title="次の再描画をどのような戦略で行うかを決定するフラグ">m.redraw.strategy(strategy)</a></li>
									</ul>
								</li>
								<li><a href="mithril.computation.html" title="非同期のコンテキストをMithrilのレンダリングシステムに統合するためのユーティリティ">m.startComputation / m.endComputation</a></li>
							</ul>
							<h3 id="data">テスト</h3>
							<ul>
								<li><a href="mithril.deps.html" title="依存性注入(Dependency Injection)">m.deps</a></li>
							</ul>
							
							<h2 id="archive">履歴</h2>
							<ul>
								<li><a href="roadmap.html">ロードマップ</a></li>
								<li><a href="change-log.html">変更履歴</a></li>
							</ul>
						</div>
						<div class="col(9,9,12)">
							<h2 id="how-to-read-signatures">シグニチャの読み方</h2>
<p>Mithrilは他のフレームワークのような具象クラスを提供していません。Mithrilでは与えられたシグニチャと一致するPlain Old JavaScript Object (POJO) を操作するメソッド群を提供しています。</p>
<p>シグニチャはそのPOJOの静的型を説明するためのものです。関数の場合はそのパラメータと、返り値、あとはそれぞれの型が該当します。オブジェクトや配列の場合は期待するデータ構造やメンバーおよび型です。</p>
<p>本ドキュメントにおけるメソッドシグニチャは、次に上げるようなJavaの文法にいくつか追加したような表記を使います:</p>
<pre><code class="lang-clike">返り値の型 メソッド名(パラメータ型1 パラメータ1, パラメータ型2 パラメータ2)
</code></pre>
<h3 id="optional-parameters">追加オプションのパラメータ</h3>
<p>角括弧はオプションのパラメータを表します。次のサンプルでは, <code>param2</code> and <code>param3</code> can both be omitted, but passing a value to <code>param2</code> is required if also passing a value to <code>param3</code>:</p>
<pre><code class="lang-clike">String test(String arg1 [, String arg2 [, String arg3]])
</code></pre>
<pre><code class="lang-javascript">//正しい関数呼び出しのサンプル
test("first");
test("first", "second");
test("first", "second", "third");
</code></pre>
<h3 id="type-placeholders">型プレースホルダー</h3>
<p>The word <code>void</code> is used as a type when a function does not return a value (i.e. undefined):</p>
<pre><code class="lang-clike">void test()
</code></pre>
<pre><code class="lang-javascript">console.log(test()); // undefined
</code></pre>
<p>The word <code>any</code> is used as a type if there are no type restrictions on a parameter:</p>
<pre><code class="lang-clike">void test(any value)
</code></pre>
<pre><code class="lang-javascript">//examples of valid function calls
test("hello");
test(1);
test(["hello", "world"]);
</code></pre>
<h3 id="arrays">Arrays</h3>
<p>Arrays use Generics syntax to denote the expected type of array members:</p>
<pre><code class="lang-clike">void test(Array&lt;String&gt; values)
</code></pre>
<pre><code class="lang-javascript">//example of a valid function call
test(["first", "second"]);
</code></pre>
<h3 id="objects-as-key-value-maps">Objects as Key-Value Maps</h3>
<p>Objects also use Generics syntax when they are meant to be used as a key-value map. Keys are always strings and, in key-value maps, can have any name.</p>
<pre><code class="lang-clike">void test(Object&lt;Number&gt; values)
</code></pre>
<pre><code class="lang-javascript">//example of a valid function call
test({first: 1, second: 2});
</code></pre>
<h3 id="objects-as-class-interfaces">Objects as Class Interfaces</h3>
<p>Objects that require specific keys are denoted using curly brace syntax:</p>
<pre><code class="lang-clike">void test(Object {String first, Number second} value)
</code></pre>
<pre><code class="lang-javascript">//example of a valid function call
test({first: "first", second: 2});
</code></pre>
<h3 id="type-aliasing">Type Aliasing</h3>
<p>Some types are aliases of more complex types. For example, in the example below, we created an alias called <code>ComplexType</code> for the type from the previous example</p>
<pre><code class="lang-clike">void test(ComplexType value)

where:
    ComplexType :: Object {String first, Number second}

//example of a valid function call
test({first: "first", second: 2})
</code></pre>
<h3 id="mixin-types">Mixin Types</h3>
<p>Curly brace syntax can also appear on other base types to denote that the value contains static members. For example, in the example below, a value of type <code>ComplexType</code> is a string, but it also has a boolean property called <code>flag</code>:</p>
<pre><code class="lang-clike">ComplexType :: String { Boolean flag }
</code></pre>
<pre><code class="lang-javascript">//an example
var a = aComplexTypeValue
typeof a == "string" // true
"flag" in a // true
a.flag = true
</code></pre>
<p>In the following example, a value of type <code>ComplexType</code> is a function, with a property called <code>label</code></p>
<pre><code class="lang-clike">ComplexType :: void test() { String label }
</code></pre>
<pre><code class="lang-javascript">//an example
var a = aComplexTypeValue
typeof a == "function" // true
"label" in a // true
a.label = "first"
</code></pre>
<h3 id="polymorphic-types">Polymorphic Types</h3>
<p>When multiple (but not all) types are accepted, the pipe <code>|</code> is used to delimit the list of valid types</p>
<pre><code class="lang-clike">void test(Children children, Value value)

where:
    Children :: Array&lt;String text | Number number&gt;
    Value :: String | Number
</code></pre>
<pre><code class="lang-javascript">//examples of valid function calls
test(["test", 2], "second")
test([1, 2, 3], "second")
test([1, "test", 3], 2)
</code></pre>
<p>Pipe syntax within Object curly brace syntax means that, for a specific key, name has specific type requirements.</p>
<p>In the example below, the <code>value</code> parameter should be a key-value map. This map may contain a key called <code>config</code>, whose value should be a function.</p>
<pre><code class="lang-clike">void test(Object { any | void config(DOMElement) } value)
</code></pre>
<pre><code class="lang-javascript">//example of a valid function call
test({ first: "first", config: function(element) { /*do stuff*/ } })
</code></pre>
<h3 id="nullable-types">Nullable Types</h3>
<p>A question mark <code>?</code> after a type denotes that a value can be either of that type or <code>undefined</code>.</p>
<pre><code class="lang-clink">XMLHttpRequest? config()
</code></pre>
<p>In the example above, the <code>config</code> function is expected to return either an instance of the XMLHttpRequest object or <code>undefined</code></p>
<h3 id="splat">Splat</h3>
<p>An ellipsis <code>...</code> means that an array argument can instead be a list of arguments</p>
<pre><code class="lang-clike">VirtualElement m(String selector [, Attributes attributes] [, Children... children])
</code></pre>
<p>In the example above, we can define children as an array:</p>
<pre><code class="lang-javascript">m("div", {title: "foo"}, ["child 1", "child 2", "child 3"])
</code></pre>
<p>And we also define it as a list of arguments (note that lack of square brackets)</p>
<pre><code class="lang-javascript">m("div", {title: "foo"}, "child 1", "child 2", "child 3")
</code></pre>

						</div>
					</div>
				</div>
			</section>
		</main>
		<footer>
			<div class="container">
				<a href="http://opensource.org/licenses/MIT" target="_blank">MITライセンス</a>でリリースされています<br />© 2014 Leo Horie
			</div>
		</footer>
		<script src="lib/prism/prism.js"></script>
	</body>
</html>
