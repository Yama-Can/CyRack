<!doctype html>
<html>
	<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
		<title>Mithrilと他のフレームワークの違い - Mithril</title>
		<meta name="description" value="Mithril.js - a Javascript Framework for Building Brilliant Applications" />
		<link href="lib/prism/prism.css" rel="stylesheet" />
		<link href="style.css" rel="stylesheet" />
	</head>
	<body>
		<header>
			<nav class="container">
				<a href="index.html" class="logo"><span>○</span> Mithril</a> <a href="getting-started.html">ガイド</a> <a href="mithril.html">API</a> <a href="community.html">コミュニティ</a> <a href="http://lhorie.github.io/mithril-blog">もっと知る</a> <a href="installation.html">ダウンロード</a> <a href="http://github.com/lhorie/mithril.js" target="_blank">Github</a>
			</nav>
		</header>
		<main>
			<section class="content">
				<div class="container">
					<div class="row">
						<div class="col(3,3,12)">
							<h2 id="core-topics">基本トピック</h2>
							<ul>
								<li><a href="installation.html">インストール</a></li>
								<li><a href="getting-started.html">はじめよう</a></li>
								<li><a href="routing.html">ラウティング</a></li>
								<li><a href="web-services.html">ウェブサービス</a></li>
								<li><a href="components.html">コンポーネント</a></li>
							</ul>
							<h2 id="advanced-topics.html">上級トピック</h2>
							<ul>
								<li><a href="auto-redrawing.html">自動再描画システム</a></li>
								<li><a href="integration.html">他のライブラリとの統合</a></li>
								<li><a href="optimizing-performance.html">テンプレートのコンパイル</a></li>
							</ul>
							<h2 id="misc">その他</h2>
							<ul>
								<li><a href="comparison.html">他のMVCフレームワークとの違い</a></li>
								<li><a href="benchmarks.html">ベンチマーク</a></li>
								<li><a href="practices.html">良いプラクティス</a></li>
								<li><a href="tools.html">便利なツール</a></li>
							</ul>
						</div>
						<div class="col(9,9,12)">
							<h2 id="how-is-mithril-different-from-other-frameworks">Mithrilと他のフレームワークの違い</h2>
<p>JavaScriptのフレームワーク同士で比較しても数多くの相違点があります。それぞれのフレームワークのメリット、欠点を評価するのは骨の折れる仕事です。</p>
<p>このページではMithrilと他のよく使われるフレームワークの違いについて説明します。中には関連しているが、まだまだ若いものもあります。</p>
<h3 id="code-size">コードサイズ</h3>
<p>Mithrilと他のフレームワークの違いの中で、もっとも分かりやすいものはファイルサイズです。Mithrilはgzip圧縮された状態で7kb前後で、他のライブラリへの依存もありません。</p>
<p>gzipされたコードが小さいのがアピールポイントというのは、非圧縮時にとても大きくなることを隠しているように見えるかもしれません。非圧縮のJavaScriptはページロードのたびにパースと評価が行われます。いくつかのフレームワークでは環境によっては数10msにもなりますが、このコストはキャッシュできません。</p>
<p>このコストは、シングルページアプリケーションでは影響は小さくなりますが、複数タブで同時に開かれたり、性能の低いデバイスで実行される場合はそうではありません。</p>
<p>ホームページのパフォーマンステストでは、Mithrilと他の有名なフレームワークで、コードのパースと評価にかかる時間の比較をしています。すでにご覧になられたとおり、大げさではなくて、gzipされたサイズ以上のパフォーマンスが出ている事がわかります。</p>
<h3 id="documentation">ドキュメンテーション</h3>
<p>もう１つの比較ポイントはドキュメントです。人気のフレームワークのほとんどは、最低限のドキュメントしか提供していませんが、多くの人は便利なサンプルが欠けていると感じていたり、上級のトピックは外部の情報まかせになっていたり、場合によっては基本的な情報すら外部の方が詳しかったりします。</p>
<p>これは特に、過去の大きな変更があると問題になります。StackOverflowで見つけた解答が最新版のフレームワークでは動作しないということがあります。</p>
<p>Mithrilは、github上で見ても、ソースコードそのものよりもドキュメントの方が大量にあります。また、自動生成のドキュメントはひとつもありません。</p>
<p>すべてのAPIは人間に読みやすいように書かれており、サンプルコードもたくさん書かれています。すべてのドキュメントが人の手で書かれているため、ドキュメントに知りたい情報がきちんとかかれているというメリットがあります。ドキュメント生成ツールではインタフェースやコールバックのパラメータなどが抜けがちです。</p>
<p>また、ガイドのセクションでは、すべての部品をどのように組み合わせていくかという内容もカバーしています。</p>
<p>Mithrilのビルドシステムは、過去のバージョンのコードとドキュメントをすべてアーカイブします。過去のバージョンの情報がなくて困ることもありません。</p>
<p>Mithrilはまだまだ若いのですが、良いドキュメントを提供することに対してどれだけのコミットメントをしているかを理解してもらえれば幸いです。</p>
<h3 id="architecture">アーキテクチャ</h3>
<p>アーキテクチャ面でみると、Mithrilが他のフレームワークと大きく異るのは、拡張する元となるベースクラスを提供していない点です。</p>
<p>よく言われることは、<em>ライブラリ</em>と異なり、<em>フレームワーク</em>はどのようにコーディングをするかを指示してくるものであると言われます。この意味では、Mithrilは本当はフレームワークではないと言われる可能性があります。</p>
<p>決まった設計のパターンでプログラマを拘束して、画一化された実装をさせるのではなく、Mithrilは従うべきイディオムのパターンを提供し、必要であればツールを提供するというアプローチをとっています。これにより、開発者はフレームワークにロックインされることなく、オープンなコードベースを得ることができます。</p>
<p>これに関連する他のフレームワークとの違いとして、これらのフレームワークはよく、考えつく限りの便利なメソッドが満載になったフレームワーク固有のベースクラスを提供していて、開発者のクラスにこれを継承させます。実際に使うかどうかにかかわらず、JavaScriptではこれらのユーティリティメソッドもすべて子クラスにコピーされます。</p>
<p>Mithrilの必要な時に必要なツールだけを提供するアプローチでは、コアのMVCパターンを実装するときに、隠れたパフォーマンスのコストを負わされることはありません。また、フレームワークに対して、特定のパターンに対する特殊なシンタックスを覚えさせるような無用なラーニングカーブはありません。</p>
<h3 id="view-layer-paradigm">ビューレイヤーパラダイム</h3>
<p>有名ないくつかの古いフレームワーク(jQueryやBackboneなどは特に)は、ビューのレイヤーに対しても、より手続き型寄りのパラダイムを採用しました。開発者が毎回、開発対象ごとにビューレベルのコードを手書きしなければなりません。</p>
<p>「すべてを描画する」ルーチンに加えて、パフォーマンスを向上させるために、部品を追加する、削除するといったコードの実装が必要で、コード量がとても大きくなります。リストを表示するコードを実装するときは、毎回この作業が必要です。</p>
<p>Mithrilのビューレイヤーは<strong>宣言的</strong>なコードになるように設計されていて、よりHTMLに近くなっています。表示するコードを書くだけですべて完了します。通常、このような設計の決定は折衷案になりがちです。アプリケーションコードの複雑さを減らそうとすると、パフォーマンスのコストが必要になったりします。しかし、ホームページのパフォーマンス比較が示す通り、Mithrilではこの両方を達成しています。</p>
<hr>
<h2 id="specific-framework-comparisons">特定のフレームワークとの比較</h2>
<p>注意: このセクションの説明にはバイアスがかかっているかもしれません。そのまま鵜呑みにせずに、参考程度にお読みください。</p>
<h3 id="jquery">jQuery</h3>
<p>jQueryはどこでも使われ、巨大なエコシステムを構築しましたが、それ自身はMVCフレームワークではありません。</p>
<p>MVCパターンをjQueryを使って実現するための共通の書き方といったものは存在しません。そのため、この足りないところを補うために数多くのフレームワークが作られました。</p>
<p>言い換えると、MithrilとjQueryの書き方は大きく異なっています。Mithrilは宣言的なスタイルでDOM関連のコードを書くことが可能で、コードの複雑さは低減されています。それに加えて、共通のアプリケーションの構造を提供しています。</p>
<p>他に大きく異る点は、データの取り扱いです。jQueryはDOMをデータ構造のための箱として使いますが、Mithrilはデータをそれと分離したモデルレイヤーに分けようとします。</p>
<h3 id="backbone">Backbone</h3>
<p>Backboneは当初、jQueryベースのアプリケーションの構造化をする目的で設計されました。開発者に対するBackboneのセールスポイントの1つは、既存のjQueryの知識を活かした上で、コードをきちんと構造化するための「ついたて」を提供するというものです。</p>
<p>BackboneとjQueryとの組み合わせたスタイルを使う場合、Mithrilではビューコードの記述に宣言的なスタイルが強要されるため、大きくことなります。</p>
<p>他に異なる点としては、Backboneはワークフローに関しては関与しません。アプリケーションを組み立てていくための手順に関しては特に定めていません。これはフレームワーク適用の柔軟性を高める点では悪くないのですが、開発チームのスケーラビリティやコードベースの探索のしやすさの点で理想的とはいえません。</p>
<p>Mithrilはこれとは対照的に、このガイドで示しているようなアプリケーション開発のパターンを共通言語として広めようとしています。それにより、「質の悪いMVCもどきのパターン」が広まるのを防ごうとしています。</p>
<p>技術的な側面での大きな違いは、Backboneがイベント駆動に重きをおいている点です。Mithrilはこれとは対照的に、「どこから来たのか分からない」といった種類の問題を避けるために、オブザーバパターンをなるべく避ける実装になっています。イベントからイベントへ、長いチェーンになっていると、何がコードを起動しているトリガーになっているのか理解が難しくなることがあります。</p>
<p>「リアルタイム」を標榜するアプリケーションでこの問題をこじらせると、条件判断を間違えてイベントのトリガーが循環し、無限ループができてしまってブラウザが応答しなくなることもあります。</p>
<p>それ以外の違いとしては、フレームワークがターゲットとしている層です。BackboneはjQueryに慣れている人にアプローチしています。MithrilはサーバサイドMVCフレームワークの経験を持っている人が親しみやすいように設計されています。</p>
<h3 id="angular">Angular</h3>
<p>AngularはGoogleにより開発が行われているMVCフレームワークで、宣言的なビューとテストしやすさに重点が置かれています。サーバサイドのMVCフレームワークのある人がすぐに使いこなせるように作られている点など、多くの面でMithrilと非常に似通っています。</p>
<p>一番大きな違いは、AngularとMithrilのテンプレートです。AngularのテンプレートはHTMLの中に定義するという、伝統的な方法を取っています。この方式は静的なテキストを作成するのは書きやすいというメリットがありますが、HTMLの文法を密結合してしまっている欠点がありますし、デバッグもしやすいとは言えません。</p>
<p>もう1点、<a href="http://lhorie.github.io/mithril/index.html#performance">Mithrilホームページ</a>を見て分かるように、Angularは他のフレームワークよりもパフォーマンスで引けを取ります。巨大なAngularのアプリケーションのパフォーマンスは厳しいものがあり、それに対応しようとするサードパーティ製のライブラリもいくつかあります。経験から見ても、Angularのパフォーマンス向上させるのは難しいです。</p>
<p>MithrilはAngularからの学びにより、控えめな実装で複雑さを下げ、プロファイリングしやすい実装にしています。</p>
<p>AngularとMithrilの大きな違いといえば、フレームワークの複雑さです。Angularは数々のサブシステムを持ち、パーサ、動的スコープシステム、デコレータなどより多くのプログラミング言語によるロジックを含んでいます。Mithrilはそれとは対照的に、よりクラシックなMVCをサポートするのに必要な機能だけを備えています。</p>
<h3 id="ember">Ember</h3>
<p>Emberは伝統的なMVCフレームワークだけではなく、さまざまな大量のヘルパーコードを含む、非常に大きなAPIセットを提供する広範囲に渡るMVCフレームワークです。</p>
<p>EmberとMithrilの一番大きな違いは、このアーキテクチャの違いに収束します。広範囲に渡るため、急峻なラーニングカーブを持ち、幅広くベンダーにロックインされます。</p>
<p>Emberはまた、アプリケーションのアーキテクチャがどうあるべきかを厳しく規定しています。そのため、裏で何が起こっているのかが不透明で見通しにくくなっています。</p>
<h3 id="react">React</h3>
<p>ReactはFacebookによって開発されたコンポーネントエンジンです。ReactはMithrilと似たようなアーキテクチャを持っています。DOM操作がテンプレートシステムのボトルネックであるという考えを共有し、仮想DOMツリーを持って差分だけを実際のDOMに反映するという実装を持っています。この比較はしやすいです。</p>
<p>見た目で一番大きくことなるのは、ブラウザ上でそのままは動作しない<em>JSX</em>という文法です。Mithrilのコンパイルしていないテンプレートはそのまま動作します。どちらもコンパイルは可能ですが、Reactのコンパイル済みのコードには仮想DOMエレメントごとの関数呼び出しが残っています。Mithrilのテンプレートは静的なJavaScriptのデータ構造になるため、関数呼び出しはありません。</p>
<p>他に違う点といえば、Mithrilは単なるテンプレートエンジンではなく、MVCフレームワークとして統一的に動作するように作られているため、アプリケーションコードに再描画命令を挟み込んでMVCフレームワークのパターンを逸脱することなく、非同期通信のネットワークアクセスなどを探知して適切に再描画行う再描画エンジンを提供しています。</p>
<p>また、そのように広い範囲をスコープに入れているにもかかわらず、MithrilのファイルサイズはReactよりも小さくなっています。</p>
<h3 id="knockout">Knockout</h3>
<p>Knockoutはデータバインディングにフォーカスしたライブラリです。これは伝統的な意味でのMVCフレームワークではありませんが、Knockoutが推奨しているスタイルに従ったコードは、ビュー・モデルと似たコンセプトを持ちます。</p>
<p>Knockoutのビュー・モデルはモデルとコントローラレイヤーを1つに融合させるものです。それに対して、Mithrilははっきりと2つのレイヤーを分離しています。</p>
<p>また、Angularと同様にテンプレートがHTMLに書かれるため、Angularのテンプレートと同じ利点・欠点があります。</p>
<h3 id="vue">Vue</h3>
<p>Vueは比較的新しいテンプレートエンジンですが、パフォーマンスのベンチマークでは目覚ましい結果を残しています。</p>
<p>これは完全なMVCフレームワークではありませんが、Angularのテンプレートと似ています。ディレクティブやフィルタなど、機能に対して同じ用語を使っています。</p>
<p>Mithrilともっとも異なる点は、<a href="https://github.com/yyx990803/vue/wiki/FAQ">ViewがInernet Explorer 8以下では動作せず、代替のない機能を利用している点です</a>。MithrilはPolyfillで補完できない機能は使ってないので、もしIE6以降ののブラウザやBlackberryに対応させる必要があれば、足りない機能を補間して対応させることができます。</p>
<p>Vueの実装は巧妙に配列のメソッドをハイジャックします。JavaScriptの配列をきちんとサブクラス化することが難しくなるため、抽象化の漏れに直面することがあります。</p>
<p>Mithrilではこのように「魔法」の型を避ける実装になっています。</p>

						</div>
					</div>
				</div>
			</section>
		</main>
		<footer>
			<div class="container">
				<a href="http://opensource.org/licenses/MIT" target="_blank">MITライセンス</a>でリリースされています<br />© 2014 Leo Horie
			</div>
		</footer>
		<script src="lib/prism/prism.js"></script>
	</body>
</html>
